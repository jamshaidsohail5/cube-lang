use cube.lang
use cube.lang.tokenizer

define abstract cstNode
  function create(nodeType as nodeType) = me.nodeType = nodeType
  function nodeType as nodeType = nodeType
  function isSymbol(s as symbol) = false
  function isKeyword(k as keyword) = false

  function toString as string
    var s = new stringBuilder
    write(s)
    output s.toString
  end

  protected
    var nodeType as nodeType

    abstract
      function write(s as stringBuilder)
    end
  end
end