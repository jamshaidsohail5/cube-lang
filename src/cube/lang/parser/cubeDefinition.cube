use cube.lang.element
use cube.lang.operator
use cube.lang.parser.elements
use cube.lang.keyword.IF_KEYWORD
use cube.lang.cst.cstNodeType.IDENTIFIER
use cube.lang.cst.symbol.EQUAL
use cube.lang.cst.symbol.LEFT_PARENTHESIS

define cubeDefinition
  shared
    function cubeDefinition as parserDefinition[element] = definition

    do
      definition.left(IDENTIFIER, new identifierParser)
      definition.operators(Operator.values)
      definition.right(EQUAL, new assignParser)
      definition.left(LEFT_PARENTHESIS, new bracketedTermParser)
      definition.right(LEFT_PARENTHESIS, new functionExpressionParser)
      definition.left(IF_KEYWORD, new ifExpressionParser)
    end
  end

  internal
    shared
      let definition = new parserDefinition[element]
    end
  end
end